"0","df_sharpe_monthly <-"
"0","    df_pnl_monthly %>% "
"0","        group_by(variation, data_date) %>% "
"0","        summarize(dly_pnl = sum(scaled_dly_tot_pnl)) %>% "
"0","        group_by(variation) %>% "
"0","        summarize("
"0","            sharpe_ratio = (mean(dly_pnl) / sd(dly_pnl)) * sqrt(252)"
"0","        ) %>% "
"0","        mutate("
"0","            tenor = ""monthly"""
"0","        ) %>% "
"0","        select(tenor, delta=variation,sharpe_ratio)"
"0","df_sharpe_weekly <- "
"0","    df_pnl_weekly %>% "
"0","        group_by(variation, data_date) %>% "
"0","        summarize(dly_pnl = sum(scaled_dly_tot_pnl)) %>% "
"0","        group_by(variation) %>% "
"0","        summarize("
"0","            sharpe_ratio = (mean(dly_pnl) / sd(dly_pnl)) * sqrt(252)"
"0","        ) %>% "
"0","        mutate("
"0","            tenor = ""weekly"""
"0","        ) %>% "
"0","        select(tenor, delta=variation,sharpe_ratio)"
"0","df_sharpe <- bind_rows(df_sharpe_monthly, df_sharpe_weekly)"
"0","df_sharpe %>% "
"0","    ggplot(aes(x = factor(delta), y = sharpe_ratio, fill=tenor)) +"
"0","    geom_bar(stat = ""identity"")  +"
"0","    geom_text(aes(label=round(sharpe_ratio, 2), vjust=-0.25)) + "
"0","    facet_wrap(~tenor, nrow = 1) +"
"0","    labs("
"0","        title = ""Sharpe-Ratio by Delta"""
"0","        , subtitle = ""monthy vs weekly"""
"0","        , x = ""delta"""
"0","        , y = ""sharpe-ratio"""
"0","    )"
