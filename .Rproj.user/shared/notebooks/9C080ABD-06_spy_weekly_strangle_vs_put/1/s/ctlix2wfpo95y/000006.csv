"0","df_performance_by_year <-"
"0","    df_daily_pnl %>%"
"0","        mutate(year = year(data_date)) %>%"
"0","        group_by(strategy, year) %>%"
"0","        summarize("
"0","            pnl = sum(dly_pnl)"
"0","            , sharpe = (mean(dly_pnl) / sd(dly_pnl)) * sqrt(252)"
"0","        )"
"0","# pnl by year"
"0","df_performance_by_year %>%"
"0","    filter(year > 2013) %>%"
"0","    ggplot(aes(factor(year), pnl, fill = strategy)) +"
"0","        geom_bar(stat = ""identity"", position = ""dodge"") +"
"0","        labs("
"0","            title = ""PNL by Year"""
"0","            , subtitle = ""puts vs strangles"""
"0","            , x = ""trade date"""
"0","            , y = ""annual pnl"""
"0","        )"
